document.onreadystatechange=function(){if("complete"===document.readyState){var O=function(b,e){B&&clearInterval(B);C&&clearInterval(C);D&&clearInterval(D);g.hasAttribute("class")&&g.classList.contains("disabled")&&(g.classList.remove("disabled"),g.classList.add("enabled"));n.hasAttribute("class")&&n.classList.contains("disabled")&&(n.classList.remove("disabled"),n.classList.add("enabled"));0<b&&h.hasAttribute("class")&&h.classList.contains("disabled")?(h.classList.remove("disabled"),h.classList.add("enabled")):
0>=b&&h.hasAttribute("class")&&h.classList.contains("enabled")&&(h.classList.remove("enabled"),h.classList.add("disabled"));b<a.playlist.length-1&&k.hasAttribute("class")&&k.classList.contains("disabled")?(k.classList.remove("disabled"),k.classList.add("enabled")):b>=a.playlist.length-1&&k.hasAttribute("class")&&k.classList.contains("enabled")&&(k.classList.remove("enabled"),k.classList.add("disabled"));for(var f=w.rows,c=0;c<f.length;c++)f[c].hasAttribute("class")&&f[c].classList.contains("row-playing")&&
(f[c].classList.remove("row-playing"),f[c].classList.add("row-paused"));1==a["interface"].showPlaylist&&(w.firstElementChild.children[b].classList.remove("row-paused"),w.firstElementChild.children[b].classList.add("row-playing"));!0===e&&(f=a.playlist[b].hasOwnProperty("artistName")?a.playlist[b].artistName:"Nieznany artysta",c=a.playlist[b].hasOwnProperty("trackName")?a.playlist[b].trackName:"Nieznany utw\u00f3r",E.innerText=f,F.innerText=c,a.playlist[b].hasOwnProperty("coverFile")?(f=(a.playlist[b].hasOwnProperty("albumName")?
a["interface"].coverImageTitle+" "+a.playlist[b].albumName:a["interface"].coverImageWithoutTitle)+(a.playlist[b].hasOwnProperty("artistName")?" artysty "+a.playlist[b].artistName:" nieznanego artysty")+(a.playlist[b].hasOwnProperty("releaseYear")?" z roku "+a.playlist[b].releaseYear:" z nieznanego roku"),p.firstElementChild.src="audio-web-player/awp-thumbnails/"+a.playlist[b].coverFile,m.src="audio-web-player/awp-covers/"+a.playlist[b].coverFile):(p.firstElementChild.src="audio-web-player/awp-sources/album-cover-thumbnail.png",
m.src="audio-web-player/awp-sources/album-cover.png",f="Brak ok\u0142adki"),p.firstElementChild.setAttribute("title",f),m.setAttribute("title",f),m.setAttribute("alt",f),l.src="audio-web-player/awp-tracks/"+a.playlist[b].trackFile,N(!0));d.hasAttribute("class")&&d.classList.contains("audio-web-player-stopped")?(d.classList.remove("audio-web-player-stopped"),d.classList.add("audio-web-player-playing"),g.setAttribute("title","Wstrzymaj odtwarzanie utworu"),l.play(),B=setInterval(y,1E3)):d.hasAttribute("class")&&
d.classList.contains("audio-web-player-paused")?(d.classList.remove("audio-web-player-paused"),d.classList.add("audio-web-player-playing"),g.setAttribute("title","Wstrzymaj odtwarzanie utworu"),l.play(),C=setInterval(y,1E3)):d.hasAttribute("class")&&d.classList.contains("audio-web-player-playing")&&(!0===e?(g.setAttribute("title","Wstrzymaj odtwarzanie utworu"),l.play(),D=setInterval(y,1E3)):!1===e&&(d.classList.remove("audio-web-player-playing"),d.classList.add("audio-web-player-paused"),g.setAttribute("title",
"Kontynuuj odtwarzanie utworu"),l.pause()))},P=function(b,e,d,c){var g=10>e?"0"+e:e,h=10>c?"0"+c:c,k=10>b?"0"+b:b,l=10>d?"0"+d:d,f=60*b+e,m=10>f?"0"+f:f,n=(100>f&&10<=f?"0"+f:10>f)?"00"+f:f,u=60*d+c,p=10>u?"0"+u:u,q=(100>u&&10<=u?"0"+u:10>u)?"00"+u:u;b=a["interface"].timeFormat.replace("$cur_min_1$",b).replace("$cur_min_2$",k).replace("$cur_sec_1$",e).replace("$cur_sec_2$",g).replace("$dur_min_1$",d).replace("$dur_min_2$",l).replace("$dur_sec_1$",c).replace("$dur_sec_2$",h).replace("$full_cur_sec_1$",
f).replace("$full_cur_sec_2$",m).replace("$full_cur_sec_3$",n).replace("$full_dur_sec_1$",u).replace("$full_dur_sec_2$",p).replace("$full_dur_sec_3$",q);K.innerText=b},N=function(d){var b=0,f=0;1==d&&(f=Math.floor(a.playlist[c].durationTimeSeconds),b=Math.floor(a.playlist[c].durationTimeMinutes));x.firstElementChild.style.width="0";P(0,0,b,f)},y=function(){var a=Math.floor(l.currentTime/60),d=Math.floor(l.currentTime%60),c=Math.floor(l.duration/60),g=Math.floor(l.duration%60);x.firstElementChild.style.width=
l.currentTime/l.duration*100+"%";P(a,d,c,g)},a,Q=!1,c,B,C,D,d=document.getElementById("audio-web-player"),q=document.createElement("div");q.id="audio-web-player-modal-window-wrapper";q.className="not-displayed";var r=document.createElement("div");r.className="audio-web-player-modal-window";q.appendChild(r);var t=document.createElement("img");t.id="audio-web-player-modal-window-close-icon";t.setAttribute("src","audio-web-player/awp-sources/close.svg");t.setAttribute("alt","Ikona do zamykania podgl\u0105du ok\u0142adki albumu");
t.setAttribute("title","Zamknij podgl\u0105d ok\u0142adki albumu");r.appendChild(t);var m=document.createElement("img");r.appendChild(m);var z=document.createElement("div");z.id="audio-web-player-tooltip";var l=document.createElement("audio"),A=document.createElement("h1"),R=document.createElement("div"),p=document.createElement("div");p.id="audio-web-player-cover-image";R.appendChild(p);var G=document.createElement("img");p.appendChild(G);r=document.createElement("div");R.appendChild(r);var L=document.createElement("div");
r.appendChild(L);var F=document.createElement("div");F.id="audio-web-player-track-title";F.innerHTML="Tytu\u0142 utworu";L.appendChild(F);var E=document.createElement("div");E.id="audio-web-player-artist-name";E.innerHTML="Nazwa artysty";L.appendChild(E);var H=document.createElement("div"),h=document.createElement("div");h.id="audio-web-player-prev-icon";h.setAttribute("class","");h.setAttribute("title","Przejd\u017a do poprzedniego utworu");H.prepend(h);var g=document.createElement("div");g.id="audio-web-player-play-pause-icon";
g.setAttribute("class","");g.style.display="block";g.setAttribute("title","Rozpocznij odtwarzanie utworu");H.appendChild(g);var n=document.createElement("div");n.id="audio-web-player-stop-icon";n.className="disabled";n.setAttribute("title","Zatrzymaj odtwarzanie utworu");H.appendChild(n);r.appendChild(H);var k=document.createElement("div");k.id="audio-web-player-next-icon";k.setAttribute("class","");k.setAttribute("title","Przejd\u017a do nast\u0119pnego utworu");H.appendChild(k);audioWebPlayerVolumeKnobIconElement=
document.createElement("div");audioWebPlayerVolumeKnobIconElement.id="audio-web-player-volume-knob-icon";audioWebPlayerVolumeKnobIconElement.setAttribute("title","Zmie\u0144 poziom g\u0142o\u015bno\u015bci");var K=document.createElement("div");K.id="audio-web-player-progress-time";H.appendChild(K);var x=document.createElement("div");x.id="audio-web-player-progress-bar";r.appendChild(x);r=document.createElement("div");x.appendChild(r);var I=document.createElement("div"),w=document.createElement("table");
if("http:"==window.location.protocol||"https:"==window.location.protocol){var M=new XMLHttpRequest;M.open("GET","audio-web-player/awp-sources/settings.json",!0);M.send(null);M.onreadystatechange=function(){if(4===M.readyState&&200===M.status)try{a=JSON.parse(M.responseText);l.volume="full"==a["interface"].setVolumeOfSound?1:parseFloat(a["interface"].setVolumeOfSound)/100;A.innerHTML=a["interface"].headerTitle;m.id="audio-web-player-modal-window-main-image";1==a["interface"].showPreviousButton&&(h.style.display=
"block");1==a["interface"].showNextButton&&(k.style.display="block");1==a["interface"].showStopButton&&(n.style.display="block",n.addEventListener("click",function(){B&&clearInterval(B);C&&clearInterval(C);D&&clearInterval(D);if(d.hasAttribute("class")&&(d.classList.contains("audio-web-player-playing")||d.classList.contains("audio-web-player-paused"))){d.classList.contains("audio-web-player-playing")&&d.classList.remove("audio-web-player-playing");d.classList.contains("audio-web-player-paused")&&
d.classList.remove("audio-web-player-paused");d.classList.add("audio-web-player-stopped");l.pause();l.currentTime=0;F.innerText=a["interface"].trackTitleStopped;E.innerText=a["interface"].artistNameStopped;m.id="audio-web-player-modal-window-main-image";m.setAttribute("src","audio-web-player/awp-sources/album-cover.png");m.setAttribute("alt",a["interface"].coverImageTitle);m.setAttribute("title",a["interface"].coverImageTitle);G.setAttribute("src","audio-web-player/awp-sources/album-cover.png");G.setAttribute("alt",
a["interface"].coverImageTitle);G.setAttribute("title",a["interface"].coverImageTitle);h.hasAttribute("class")&&h.classList.contains("enabled")&&(h.classList.remove("enabled"),h.classList.add("disabled"));g.hasAttribute("class")&&g.classList.contains("enabled")&&(g.classList.remove("enabled"),g.classList.add("disabled"));k.hasAttribute("class")&&k.classList.contains("enabled")&&(k.classList.remove("enabled"),k.classList.add("disabled"));n.hasAttribute("class")&&n.classList.contains("enabled")&&(n.classList.remove("enabled"),
n.classList.add("disabled"));g.setAttribute("title","Rozpocznij odtwarzanie utworu");for(var b=w.rows,c=0;c<b.length;c++)b[c].hasAttribute("class")&&b[c].classList.contains("row-playing")&&(b[c].classList.remove("row-playing"),b[c].classList.add("row-paused"))}N()},!1));1==a["interface"].showVolumeKnob&&(audioWebPlayerVolumeKnobIconElement.style.display="block",document.body.addEventListener("mouseup",function(){Q=!1;z.style.display="none"},!0),audioWebPlayerVolumeKnobIconElement.addEventListener("mousedown",
function(a){a.preventDefault();Q=!0;z.style.display="block"}),audioWebPlayerVolumeKnobIconElement.addEventListener("mouseup",function(a){a.preventDefault();Q=!1;z.style.display="none"}),audioWebPlayerVolumeKnobIconElement.addEventListener("mousemove",function(a){if(!0===Q){var b=180*Math.atan2(window.scrollY+audioWebPlayerVolumeKnobIconElement.getBoundingClientRect().top+audioWebPlayerVolumeKnobIconElement.getBoundingClientRect().height/2-a.clientY,window.scrollX+audioWebPlayerVolumeKnobIconElement.getBoundingClientRect().left+
audioWebPlayerVolumeKnobIconElement.getBoundingClientRect().width/2-a.clientX)/Math.PI;if(-45<b||-135>b)audioWebPlayerVolumeKnobIconElement.firstChild.style.transform="rotate("+(b-45).toString()+"deg)",-45<b?(l.volume=(b+45)/270,z.innerHTML="G\u0142o\u015bno\u015b\u0107:&nbsp;"+Math.floor((b+45)/270*100).toString()+"% "):-135>b&&(l.volume=(b+405)/270,z.innerHTML="G\u0142o\u015bno\u015b\u0107:&nbsp;"+Math.ceil((b+405)/270*100).toString()+"%"),z.style.left=(a.clientX-d.getBoundingClientRect().left+
10).toString()+"px",z.style.top=(a.clientY-d.getBoundingClientRect().top+15).toString()+"px"}}),audioWebPlayerArrowElement=document.createElement("img"),audioWebPlayerArrowElement.setAttribute("src","audio-web-player/awp-sources/arrow.svg"),audioWebPlayerArrowElement.setAttribute("alt","Strza\u0142ka"),audioWebPlayerArrowElement.style.transform="full"==a["interface"].setVolumeOfSound?"rotate("+(180).toString()+"deg)":"rotate("+(parseFloat(a["interface"].setVolumeOfSound)/100*270-90).toString()+"deg)",
audioWebPlayerVolumeKnobIconElement.appendChild(audioWebPlayerArrowElement),H.appendChild(audioWebPlayerVolumeKnobIconElement));d.appendChild(l);d.appendChild(z);d.appendChild(A);d.appendChild(R);d.after(q);if(1==a["interface"].showPlaylist){I.innerHTML=a["interface"].playlistHeaderSubtitle;R.after(I);w.id="audio-web-player-playlist";I.after(w);var b=document.createElement("tbody");w.appendChild(b);for(var e=0;e<a.playlist.length;e++){var f=document.createElement("tr"),r=document.createElement("td"),
x=document.createElement("td"),t=Math.floor(a.playlist[e].durationTimeSeconds),J=Math.floor(a.playlist[e].durationTimeMinutes),y=10>t?"0"+t:t,K=10>J?"0"+J:J,v=60*J+t,L=10>v?"0"+v:v,u=(100>v&&10<=v?"0"+v:10>v)?"00"+v:v,P=a["interface"].playlistItemTitleFormat.replace("$artist_name$",a.playlist[e].artistName?a.playlist[e].artistName:"Nieznany artysta").replace("$track_name$",a.playlist[e].trackName?a.playlist[e].trackName:"Nieznany utw\u00f3r").replace("$album_name$",a.playlist[e].albumName?a.playlist[e].albumName:
"nieznanego").replace("$release_year$",a.playlist[e].releaseYear?a.playlist[e].releaseYear:"nieznanego").replace("$dur_min_1$",J).replace("$dur_min_2$",K).replace("$dur_sec_1$",t).replace("$dur_sec_2$",y).replace("$full_dur_sec_1$",v).replace("$full_dur_sec_2$",L).replace("$full_dur_sec_3$",u),U=a["interface"].playlistItemSubtitleFormat.replace("$artist_name$",a.playlist[e].artistName?a.playlist[e].artistName:"Nieznany artysta").replace("$track_name$",a.playlist[e].trackName?a.playlist[e].trackName:
"Nieznany utw\u00f3r").replace("$album_name$",a.playlist[e].albumName?a.playlist[e].albumName:"nieznanego").replace("$release_year$",a.playlist[e].releaseYear?a.playlist[e].releaseYear:"nieznanego").replace("$dur_min_1$",J).replace("$dur_min_2$",K).replace("$dur_sec_1$",t).replace("$dur_sec_2$",y).replace("$full_dur_sec_1$",v).replace("$full_dur_sec_2$",L).replace("$full_dur_sec_3$",u),y=P+"<br /><small>"+U+"</small>";r.innerHTML=e+1+".";x.innerHTML=y;f.className="row-paused";b.appendChild(f).appendChild(r);
b.appendChild(f).appendChild(x)}1==a["interface"].showPlaylist&&"none"!=a["interface"].selectedTrack&&(w.firstElementChild.children[a["interface"].selectedTrack-1].classList.remove("row-paused"),w.firstElementChild.children[a["interface"].selectedTrack-1].classList.add("row-playing"));for(var T=w.getElementsByTagName("td"),b=0;b<T.length;b++)T[b].addEventListener("click",function(){c=this.parentNode.rowIndex;this.parentNode.hasAttribute("class")&&this.parentNode.classList.contains("row-paused")&&
O(c,!0)},!1)}if("none"==a["interface"].selectedTrack)d.className="audio-web-player-stopped",F.innerText=a["interface"].trackTitleStopped,E.innerText=a["interface"].artistNameStopped,m.setAttribute("src","audio-web-player/awp-sources/album-cover.png"),m.setAttribute("alt",a["interface"].coverImageTitle),m.setAttribute("title",a["interface"].coverImageTitle),G.setAttribute("src","audio-web-player/awp-sources/album-cover.png"),G.setAttribute("alt",a["interface"].coverImageTitle),G.setAttribute("title",
a["interface"].coverImageTitle),p.setAttribute("title",a["interface"].coverImageTitle),g.hasAttribute("class")&&g.classList.add("disabled"),h.hasAttribute("class")&&h.classList.add("disabled"),k.hasAttribute("class")&&k.classList.add("disabled"),N();else{d.className="audio-web-player-paused";c=a["interface"].selectedTrack-1;var W=a.playlist[c].hasOwnProperty("artistName")?a.playlist[c].artistName:"Nieznany artysta",X=a.playlist[c].hasOwnProperty("trackName")?a.playlist[c].trackName:"Nieznany utw\u00f3r";
E.innerText=W;F.innerText=X;if(a.playlist[c].hasOwnProperty("coverFile")){var S=(a.playlist[c].hasOwnProperty("albumName")?a["interface"].coverImageTitle+" "+a.playlist[c].albumName:a["interface"].coverImageWithoutTitle)+(a.playlist[c].hasOwnProperty("artistName")?" artysty "+a.playlist[c].artistName:" nieznanego artysty")+(a.playlist[c].hasOwnProperty("releaseYear")?" z roku "+a.playlist[c].releaseYear:" z nieznanego roku");p.firstElementChild.src="audio-web-player/awp-thumbnails/"+a.playlist[c].coverFile;
m.src="audio-web-player/awp-covers/"+a.playlist[c].coverFile}else p.firstElementChild.src="audio-web-player/awp-sources/album-cover-thumbnail.png",m.src="audio-web-player/awp-sources/album-cover.png",S="Brak ok\u0142adki";p.firstElementChild.setAttribute("title",S);m.setAttribute("title",S);m.setAttribute("alt",S);l.src="audio-web-player/awp-tracks/"+a.playlist[c].trackFile;g.hasAttribute("class")&&g.classList.add("enabled");0<a["interface"].selectedTrack-1&&h.hasAttribute("class")?h.classList.add("enabled"):
0>=a["interface"].selectedTrack-1&&h.hasAttribute("class")&&h.classList.add("disabled");a["interface"].selectedTrack-1<a.playlist.length-1&&k.hasAttribute("class")?k.classList.add("enabled"):a["interface"].selectedTrack-1>=a.playlist.length-1&&k.hasAttribute("class")&&k.classList.add("disabled");N(!0)}}catch(V){console.log(V),d.appendChild(A),I.innerHTML="Wyst\u0105pi\u0142 b\u0142\u0105d podczas wczytywania pliku JSON z&nbsp;ustawieniami!",A.after(I),A.innerHTML="B\u0142\u0105d aplikacji"}}}else d.appendChild(A),
I.innerHTML="Nie mo\u017cna uruchomi\u0107 aplikacji lokalnie!<br />Prosz\u0119 najpierw umie\u015bci\u0107 j\u0105 na serwerze WWW.",A.after(I),A.innerHTML="B\u0142\u0105d aplikacji";g&&g.addEventListener("click",function(){this.hasAttribute("class")&&this.classList.contains("enabled")&&O(c,!1)},!1);h&&h.addEventListener("click",function(){this.hasAttribute("class")&&this.classList.contains("enabled")&&(c--,O(c,!0))},!1);k&&k.addEventListener("click",function(){this.hasAttribute("class")&&this.classList.contains("enabled")&&
(c++,O(c,!0))},!1);x&&x.addEventListener("click",function(a){if(d.hasAttribute("class")&&d.classList.contains("audio-web-player-playing")){var b=a.target.getBoundingClientRect();l.currentTime=(a.clientX-b.left)/this.offsetWidth*l.duration;y()}},!1);p&&p.addEventListener("click",function(){q.hasAttribute("class")&&q.classList.contains("not-displayed")&&(q.classList.remove("not-displayed"),q.classList.add("displayed"))},!1);t&&t.addEventListener("click",function(){q.hasAttribute("class")&&q.classList.contains("displayed")&&
(q.classList.remove("displayed"),q.classList.add("not-displayed"))},!1);l&&l.addEventListener("ended",function(){B&&clearInterval(B);C&&clearInterval(C);D&&clearInterval(D);this.currentTime=0;d.hasAttribute("class")&&d.classList.contains("audio-web-player-playing")&&(d.classList.remove("audio-web-player-playing"),d.classList.add("audio-web-player-paused"));g.setAttribute("title","Rozpocznij odtwarzanie utworu");N(!0)})}};
